Version 4
SHEET 1 944 696
WIRE 288 80 32 80
WIRE 288 96 288 80
WIRE 272 176 272 160
WIRE 272 176 160 176
WIRE 304 176 304 160
WIRE 416 176 304 176
WIRE -288 208 -304 208
WIRE -176 208 -208 208
WIRE -96 208 -176 208
WIRE -80 208 -96 208
WIRE 32 208 32 80
WIRE 32 208 0 208
WIRE 64 208 32 208
WIRE 160 208 160 176
WIRE 160 208 128 208
WIRE 176 208 160 208
WIRE 288 208 256 208
WIRE 320 208 288 208
WIRE 416 208 416 176
WIRE 416 208 400 208
WIRE 448 208 416 208
WIRE -176 224 -176 208
WIRE -96 240 -96 208
WIRE 16 240 -96 240
WIRE 160 240 160 208
WIRE 160 240 48 240
WIRE 448 240 448 208
WIRE 16 256 16 240
WIRE 48 256 48 240
WIRE 32 336 32 320
WIRE 288 336 288 208
WIRE 288 336 32 336
WIRE 448 336 448 320
WIRE -304 400 -304 208
WIRE -192 400 -304 400
WIRE -144 400 -192 400
WIRE -80 400 -144 400
WIRE 32 400 32 336
WIRE 32 400 0 400
WIRE 64 400 32 400
WIRE -192 416 -192 400
WIRE -144 416 -144 400
WIRE -192 496 -192 480
WIRE -144 496 -144 480
FLAG 448 336 0
FLAG -176 288 0
FLAG -144 496 0
FLAG 64 400 v_out
IOPIN 64 400 Out
FLAG -192 496 0
SYMBOL OpAmps\\opamp 224 128 R270
WINDOW 0 0 32 Invisible 2
SYMATTR InstName U1
SYMBOL res 416 192 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL res 272 192 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R}
SYMBOL OpAmps\\opamp 96 288 R90
WINDOW 0 0 32 Invisible 2
SYMATTR InstName U2
SYMBOL res -96 224 R270
WINDOW 0 32 56 Invisible 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL cap 128 192 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL res 432 224 R0
WINDOW 0 36 40 Invisible 2
SYMATTR InstName R4
SYMATTR Value {R}
SYMBOL cap -192 224 R0
WINDOW 39 24 84 Left 2
SYMATTR InstName Cf
SYMATTR Value {Cf}
SYMATTR SpiceLine IC=1u
SYMBOL res -192 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rf
SYMATTR Value {Rf}
SYMBOL res 16 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_lim
SYMATTR Value 10k
SYMBOL diode -160 416 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -176 480 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
TEXT 128 -8 Left 2 !.param R=10k C=160n
TEXT 128 -48 Left 2 !.lib opamp.sub
TEXT 472 -16 Left 2 ;Lf = C * R^2\nomega = 1 / sqrt(Lf*Cf)\nQ = sqrt(Cf/Lf) * Rf\n    = sqrt(Cf/C) * Rf/R
TEXT 128 32 Left 2 !.param Cf=160n Rf=51k
TEXT 184 488 Left 2 !.tran 0.3
