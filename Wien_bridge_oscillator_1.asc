Version 4
SHEET 1 880 680
WIRE 192 -16 -48 -16
WIRE 352 -16 352 -32
WIRE 352 -16 256 -16
WIRE 352 0 352 -16
WIRE -48 64 -48 -16
WIRE 176 64 -48 64
WIRE 288 64 256 64
WIRE -128 128 -160 128
WIRE -48 128 -48 64
WIRE 192 128 -48 128
WIRE 288 144 288 64
WIRE 288 144 256 144
WIRE 352 144 352 80
WIRE 352 144 288 144
WIRE 400 144 352 144
WIRE -160 160 -160 128
WIRE 192 160 144 160
WIRE 80 240 0 240
WIRE 144 240 144 160
WIRE 144 240 80 240
WIRE 288 240 288 144
WIRE -464 256 -464 240
WIRE -464 256 -528 256
WIRE 80 256 80 240
WIRE -464 272 -464 256
WIRE 0 272 0 240
WIRE -528 288 -528 256
WIRE 352 304 352 144
WIRE -48 400 -48 128
WIRE 192 400 -48 400
WIRE 352 400 352 384
WIRE 352 400 256 400
WIRE 352 416 352 400
FLAG 80 336 0
FLAG 0 336 0
FLAG 352 -112 Vs+
IOPIN 352 -112 In
FLAG 352 496 Vs-
IOPIN 352 496 In
FLAG -528 288 0
FLAG -464 352 Vs-
IOPIN -464 352 In
FLAG -464 160 Vs+
IOPIN -464 160 In
FLAG 400 144 v_out
IOPIN 400 144 Out
FLAG -160 160 0
SYMBOL OpAmps\\opamp 224 80 R0
WINDOW 0 0 32 Invisible 2
SYMATTR InstName U1
SYMBOL cap 208 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cs
SYMATTR Value {C}
SYMBOL res 304 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rs
SYMATTR Value {R}
SYMBOL res 64 240 R0
SYMATTR InstName Rp
SYMATTR Value {R}
SYMBOL cap -16 272 R0
WINDOW 39 24 84 Left 2
SYMATTR InstName Cp
SYMATTR Value {C}
SYMATTR SpiceLine IC=1
SYMBOL diode 256 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D1
SYMBOL res -32 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 272 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL diode 192 0 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D2
SYMBOL res 336 -128 R0
SYMATTR InstName R3
SYMATTR Value 3k
SYMBOL res 336 -16 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 336 288 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 336 400 R0
SYMATTR InstName R6
SYMATTR Value 3k
SYMBOL voltage -464 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -464 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
TEXT 0 448 Left 2 !.lib opamp.sub
TEXT -320 360 Left 2 !.tran 0.3
TEXT 432 280 Left 2 ;omega = 1/(R*C)
TEXT 376 248 Left 2 !.param R=10k C=160n
